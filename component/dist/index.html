<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Component demo</title>
<link href="index.css" rel="stylesheet"/>
</head>
<body>
<div id="container">
<div class="govuk-form-group">
<h1 class="govuk-label-wrapper">
<label class="govuk-label govuk-label--l" for="event-name">
                Search here:
                </label>
</h1>
<input class="govuk-input" id="user-query" name="event-name" type="text"/>
<button class="govuk-button" data-module="govuk-button" id="search-button">Search</button>
<div class="govuk-inset-text" id="search-result"></div>
</div>
</div>
<script>/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
//const geolib = require('geolib');

document.getElementById("search-button").addEventListener("click", (event) => {
    let inputElement = document.getElementById("user-query")
    let outputElement = document.getElementById("search-result")
    outputElement.innerHTML = handleSearch(inputElement.value)
});


function searchButtonPressed() {

    let inputElement = document.getElementById("user-query")
    let outputElement = document.getElementById("search-result")
    outputElement.innerHTML = handleSearch(inputElement.value)
}

function handleSearch(query) {
    let documentText = scrapeCurrentPage()
    let prompt = constructPrompt(documentText, query)
    let response = callBackend(prompt) //may need to be asynchronous

    return response
}

function scrapeCurrentPage() {
    // Scrape
    // Parse
    return ""
}

function constructPrompt(context, query) {
    return query
}

function callBackend(prompt) {
    // geolib.convertDistance(3, "mm".toString())
    return `Your query was: ${prompt}` 
}
/******/ })()
;</script>
</body>
</html>